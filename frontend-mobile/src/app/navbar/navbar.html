  <header class="fixed left-0 right-0 top-0 z-50 w-full backdrop-blur-md" style="background-color: rgba(245, 245, 245, 0.9);">
          <div class="w-[98%] max-w-[1800px] mx-auto">
            <div class="flex items-center justify-between h-18">
              <!-- Mobile Menu Toggle - Left side -->
              <div class="flex items-center ml-4">
                <button (click)="toggleMenu()" class="p-2 rounded-full bg-gray-600/20 backdrop-blur-sm text-gray-800 hover:bg-gray-600/30 transition-all duration-300 shadow-lg">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                  </svg>
                </button>
              </div>

              <!-- Mobile/Tablet Center - User Location (only for logged in users) -->
              <div *ngIf="isLoggedIn" class="flex-1 flex items-center justify-center px-4">
                <button 
                  (click)="toggleLocationPopup()"
                  class="flex items-center gap-2 text-gray-800 text-sm hover:text-gray-900 transition-colors cursor-pointer">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  </svg>
                  <span class="truncate max-w-32">{{ getUserLocation() || 'Set Location' }}</span>
                </button>
              </div>

              <!-- Mobile/Tablet Right Side - Notification Bell -->
              <div class="flex items-center mr-4">
                <app-notification-bell *ngIf="isLoggedIn"></app-notification-bell>
              </div>
            </div>
          </div>
  </header>
  <!-- spacer to offset fixed header height so content doesn't jump under it -->
  <div class="h-2 w-full" aria-hidden="true"></div>
        <div id="mobile-menu" class="fixed inset-0 z-50 transition-all duration-300" [class.opacity-0]="!menuOpen" [class.pointer-events-none]="!menuOpen">
          <div class="absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity duration-300" [class.opacity-0]="!menuOpen" [style.opacity]="menuOpen ? '0.8' : '0'"></div>
          <div class="absolute top-0 bottom-0 left-0 w-72 h-full min-h-screen shadow-2xl transform transition-all duration-500 ease-out border-r border-gray-300" style="background-color: #f5f5f5;" [style.transform]="menuOpen ? 'translateX(0%)' : 'translateX(-100%)'" [style.opacity]="menuOpen ? '1' : '0'">
            <button (click)="closeMenu()" class="absolute top-4 left-4 p-2 rounded-full bg-gray-200 backdrop-blur-sm text-gray-800 hover:bg-gray-300 transition-all duration-300 shadow-lg">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
            
            <!-- Profile Section at Top - Only for logged in users -->
            <div *ngIf="isLoggedIn" class="px-6 pt-20 pb-4 border-b border-gray-600">
              <div class="flex items-center justify-between">
                <!-- Profile Info -->
                <button 
                  (click)="navigateToProfile()"
                  class="flex items-center gap-3 p-3 rounded-lg transition-all duration-300 flex-1" style="background-color: rgba(229, 229, 229, 0.5);"
                >
                  <!-- Profile Image or Initials -->
                  <div class="relative">
                    <img 
                      *ngIf="getProfileImageUrl()" 
                      [src]="getProfileImageUrl()" 
                      [alt]="userData?.name + ' profile'" 
                      class="w-10 h-10 rounded-full object-cover border-2 border-blue-500/50"
                    />
                    <div 
                      *ngIf="!getProfileImageUrl()" 
                      class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm border-2 border-blue-500/50"
                    >
                      {{ getUserInitials() }}
                    </div>
                    <!-- Online Status Indicator -->
                    <div class="absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-gray-900 rounded-full"></div>
                  </div>
                  
                  <!-- User Info -->
                  <div class="text-left flex-1">
                    <p class="text-gray-800 font-medium text-sm">{{ userData?.name }}</p>
                    <p class="text-gray-600 text-xs">View Profile</p>
                  </div>
                </button>
                
                <!-- Notification Bell -->
                <div class="ml-3">
                  <app-notification-bell></app-notification-bell>
                </div>
              </div>
            </div>
            
            <nav class="px-6 pt-6 pb-4 space-y-1">
              <!-- How it works -->
              <a class="flex items-center gap-4 px-4 py-4 rounded-xl text-base font-medium text-gray-700 hover:text-gray-800 hover:bg-gray-100/50 transition-all duration-300 group" routerLink="/about" routerLinkActive="nav-link-active-mobile" (click)="closeMenu()">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                How it works
              </a>
              <!-- Our Story -->
              <a class="flex items-center gap-4 px-4 py-4 rounded-xl text-base font-medium text-gray-700 hover:text-gray-800 hover:bg-gray-100/50 transition-all duration-300 group" routerLink="/our-story" routerLinkActive="nav-link-active-mobile" (click)="closeMenu()">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                Our Story
              </a>
              <!-- Contact -->
              <a class="flex items-center gap-4 px-4 py-4 rounded-xl text-base font-medium text-gray-700 hover:text-gray-800 hover:bg-gray-100/50 transition-all duration-300 group" routerLink="/contact-us" routerLinkActive="nav-link-active-mobile" (click)="closeMenu()">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
                Contact us
              </a>
            </nav>
            
            <!-- Mobile Bottom Section -->
            <div class="absolute bottom-0 left-0 right-0 p-6 border-t border-gray-300" style="background-color: #f5f5f5;">
              <!-- Become an Investor Button - Always visible -->
              <div class="mb-4">
                <button 
                  (click)="navigateToInvestor()"
                  class="w-full flex items-center justify-center gap-2 px-3 py-2 border border-gray-600 text-gray-800 text-xs font-medium rounded-xl transition-all duration-300 hover:border-gray-700 hover:text-gray-900 hover:bg-gray-100 whitespace-nowrap"
                >
                  <img src="/car.png" alt="Car" class="w-4 h-4 object-contain" />
                  <span>Become an Investor/Partner</span>
                </button>
              </div>

              <!-- Not Logged In - Show Login Button -->
              <div *ngIf="!isLoggedIn">
                <button 
                  (click)="navigateToLogin()"
                  class="w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-blue-500/25 transform hover:scale-105"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                  </svg>
                  Login
                </button>
              </div>

            </div>
          </div>
        </div>
        
        <!-- Bottom Navbar - Mobile/Tablet Only -->
        <nav class="fixed bottom-0 left-0 right-0 z-40 bg-[#f5f5f5]/95 backdrop-blur-md border-t border-gray-300/50 bottom-nav">
          <div class="flex items-center justify-around h-16 px-2">
            <!-- Home -->
            <a 
              routerLink="/home" 
              routerLinkActive="active-nav" 
              [routerLinkActiveOptions]="{exact: true}"
              class="flex items-center justify-center p-3 rounded-lg transition-all duration-300 text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"
            >
              <svg class="w-6 h-6 fill-current" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 3l9 8h-3v9h-5v-6H11v6H6v-9H3l9-8z"/>
              </svg>
            </a>
            
            <!-- Cars -->
            <a 
              routerLink="/cars" 
              routerLinkActive="active-nav"
              class="flex items-center justify-center p-3 rounded-lg transition-all duration-300 text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"
            >
              <svg class="w-6 h-6 fill-current" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
              </svg>
            </a>
            
            <!-- Bookings (Only show if logged in) -->
            <a 
              *ngIf="isLoggedIn"
              routerLink="/bookings" 
              routerLinkActive="active-nav"
              class="flex items-center justify-center p-3 rounded-lg transition-all duration-300 text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"
            >
              <svg class="w-6 h-6 fill-current" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
              </svg>
            </a>
            
            
            <!-- Profile -->
            <a 
              routerLink="/profile" 
              routerLinkActive="active-nav"
              class="flex items-center justify-center p-3 rounded-lg transition-all duration-300 text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"
            >
              <!-- Profile Image or Initials -->
              <div class="relative">
                <img 
                  *ngIf="getProfileImageUrl()" 
                  [src]="getProfileImageUrl()" 
                  [alt]="userData?.name + ' profile'" 
                  class="w-6 h-6 rounded-full object-cover border border-gray-400"
                />
                <div 
                  *ngIf="!getProfileImageUrl()" 
                  class="w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-xs border border-gray-400"
                >
                  {{ getUserInitials() }}
                </div>
              </div>
            </a>
          </div>
        </nav>
        
        <!-- Bottom spacer to offset bottom navbar -->
        <div class="h-16 w-full" aria-hidden="true"></div>

        <!-- Location Popup Modal -->
        <div *ngIf="isLocationPopupOpen()" class="fixed inset-0 z-50 flex items-center justify-center p-4" (click)="closeLocationPopup()">
          <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" (click)="closeLocationPopup()"></div>
          <div class="relative bg-[#1a2532] border border-[#344b65] rounded-lg shadow-xl w-full max-w-md max-h-[80vh] overflow-hidden" (click)="$event.stopPropagation()">
            <!-- Header -->
            <div class="flex items-center justify-between p-4 border-b border-[#344b65]">
              <h3 class="text-white font-semibold text-lg">Select Location</h3>
              <button (click)="closeLocationPopup()" class="text-gray-400 hover:text-white transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>
            
            <!-- Search Input -->
            <div class="p-4 border-b border-[#344b65]">
              <input 
                [ngModel]="locationSearchQuery()"
                (ngModelChange)="onLocationInputChange($event)"
                (keypress)="onLocationSearchKeyPress($event)"
                placeholder="Type to search or select city..."
                class="w-full px-3 py-2 text-white bg-[#101a23] border border-[#344b65] rounded focus:outline-none focus:border-blue-500 text-sm"
              />
            </div>
            
            <!-- Location Suggestions -->
            <div class="max-h-60 overflow-y-auto">
              <!-- Loading state -->
              <div *ngIf="isLocationLoading()" class="px-4 py-3 text-gray-400 text-sm text-center">
                <div class="flex items-center justify-center gap-2">
                  <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Searching locations...
                </div>
              </div>
              
              <!-- No results -->
              <div *ngIf="!isLocationLoading() && allLocationSuggestions().length === 0 && locationSearchQuery()" class="px-4 py-3 text-gray-400 text-sm text-center">
                No locations found matching "{{ locationSearchQuery() }}"
              </div>
              
              <!-- Show suggestions when no search query or when there are results -->
              <div *ngIf="!isLocationLoading() && (allLocationSuggestions().length > 0 || !locationSearchQuery())">
                <!-- Popular Cities Header -->
                <div *ngIf="!locationSearchQuery()" class="px-4 py-2 text-gray-400 text-xs font-medium border-b border-[#344b65]">
                  Popular Cities
                </div>
                
                <!-- Suggestions -->
                <button
                  *ngFor="let suggestion of allLocationSuggestions()"
                  (click)="selectLocation(suggestion)"
                  class="w-full text-left px-4 py-3 text-[#93acc8] hover:bg-[#344b65] hover:text-white transition-colors text-sm border-b border-[#344b65]/30 last:border-b-0">
                  <div class="flex flex-col">
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="font-semibold">{{ suggestion.name }}</span>
                      </div>
                    </div>
                    <span *ngIf="suggestion.state" class="text-xs text-gray-400 mt-1 ml-6">{{ suggestion.state }}</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
