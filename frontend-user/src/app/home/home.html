<div class="px-4 md:px-8 flex flex-1 justify-center py-5">
  <div class="layout-content-container flex flex-col w-full max-w-[1600px] mx-auto">
    <div class="@container">
      <div class="@[480px]:p-4">
        <div data-animation="fade-up" data-hero-section
          class="flex min-h-[300px] sm:min-h-[400px] md:min-h-[480px] flex-col gap-4 sm:gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-6 sm:pb-8 md:pb-10 @[480px]:px-10"
          [style.background-image]="heroContent() ? 'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url(' + heroContent()!.bgImage + ')' : 'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url(\'./herocar.jpg\')'">
          <div class="flex flex-col gap-2 text-left">
            <!-- Hero Content or Skeleton Loading -->
            <div *ngIf="heroContent(); else heroSkeleton">
              <h1
                class="text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]">
                {{ heroContent()?.heroText }}
              </h1>
              <h2
                class="text-white text-xs sm:text-sm md:text-base lg:text-lg font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal">
                {{ heroContent()?.subText }}
              </h2>
            </div>

            <!-- Hero Skeleton Loading -->
            <ng-template #heroSkeleton>
              <div class="animate-pulse">
                <div class="h-12 bg-gray-600/30 rounded-lg mb-3 @[480px]:h-16 hero-skeleton"></div>
                <div class="h-6 bg-gray-600/20 rounded-lg w-3/4 @[480px]:h-7 hero-skeleton"></div>
              </div>
            </ng-template>
          </div>
          <!-- Explore Cars Button -->
          <button (click)="navigateToCars()"
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 @[480px]:h-12 @[480px]:px-5 btn-outline-white text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em] transform hover:scale-105 transition-all duration-300">
            <span class="truncate">Explore cars</span>
          </button>
        </div>
      </div>
    </div>
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 px-4 gap-3 sm:gap-0 brands-header-mobile">
      <div>
        <h2 data-animation="fade-right"
          class="text-white tracking-light text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-full pb-2 pt-6 md:pb-3 md:pt-10 text-left">
          Brands we support</h2>
        <p data-animation="fade-right" data-delay="100"
          class="text-[#90adcb] text-sm sm:text-base lg:text-lg max-w-[900px] mx-0 pb-4 text-left">We partner with leading manufacturers to
          bring a curated selection of premium and reliable vehicles.</p>
      </div>
      <!-- View More Button -->
      <div *ngIf="!brandsLoading() && brands().length > 5" class="flex-shrink-0 view-more-button sm:mt-3 md:mt-4 lg:mt-5 xl:mt-6">
        <button (click)="openBrandsModal()"
          class="inline-flex items-center gap-1 btn-outline-white font-semibold text-xs sm:text-sm px-3 py-1.5 rounded-md transition-colors duration-300 w-fit">
          View More <span class="ml-1">&rarr;</span>
        </button>
      </div>
    </div>
    <div class="w-full px-4 mb-8 md:mb-12">
      <!-- Loading State -->
      <div *ngIf="brandsLoading()" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        <div *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]"
          class="flex flex-col items-center bg-gray-800/50 rounded-xl p-6 animate-pulse">
          <div class="bg-gray-700 rounded-full p-4 mb-4 h-24 w-24"></div>
          <div class="h-4 bg-gray-700 rounded w-20 mb-2"></div>
          <div class="h-3 bg-gray-700 rounded w-16"></div>
        </div>
      </div>

      <!-- Dynamic Brands -->
      <div *ngIf="!brandsLoading() && brands().length > 0"
        class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        <div *ngFor="let brand of visibleBrands(); let i = index" data-animation="zoom-in" [attr.data-delay]="(i + 1) * 100"
          class="flex flex-col items-center bg-gray-800/50 rounded-xl p-6 hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 cursor-pointer"
          (click)="navigateToCarsWithBrand(brand.brandName)">
          <div class="bg-white/10 rounded-full p-4 mb-4">
            <img [src]="brand.brandLogo" [alt]="brand.brandName" class="h-16 w-16 object-contain" />
          </div>
          <span class="text-white text-base font-semibold text-center">{{ brand.brandName }}</span>
          <span class="text-gray-400 text-xs mt-2">{{ brand.subText }}</span>
        </div>
      </div>


      <!-- No Brands State -->
      <div *ngIf="!brandsLoading() && brands().length === 0" class="text-center py-8 md:py-12">
        <div class="text-[#90adcb] text-lg mb-4">No brands available at the moment</div>
        <p class="text-gray-400">Please check back later for brand information.</p>
      </div>
    </div>
    <!-- Car Carousel Section -->
    <div class="container mx-auto px-4 mb-8 md:mb-12">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between pb-3 pt-5 gap-2 sm:gap-0">
        <h2 data-animation="fade-right"
          class="text-white tracking-light text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-full text-left">
          Explore our cars</h2>
        <button (click)="navigateToCars()"
          class="inline-flex items-center gap-1 btn-outline-white font-semibold text-xs sm:text-sm px-3 py-1.5 rounded-md transition-colors duration-300 w-fit sm:mt-3 md:mt-4 lg:mt-5 xl:mt-6">
          View More <span class="ml-1">&rarr;</span>
        </button>
      </div>
      <p data-animation="fade-right" data-delay="100"
        class="text-[#90adcb] text-sm sm:text-base max-w-[900px] mx-0 pb-6 text-left">Browse our carefully curated featured cars
      </p>
      <!-- Loading State -->
      <div *ngIf="carsLoading()" class="carousel-wrapper relative" data-animation="fade-up" data-delay="200">
        <div class="carousel-viewport overflow-hidden">
          <div class="carousel-track flex gap-4">
            <div *ngFor="let i of [1,2,3]"
              class="car-card flex flex-col items-stretch justify-between gap-4 rounded-lg border border-gray-700 p-4 animate-pulse"
              [style.flex]="'0 0 ' + (100 / visibleCount()) + '%'">
              <div class="flex flex-col gap-2">
                <div class="w-full bg-gray-700 aspect-video rounded-lg flex-1"></div>
                <div class="flex flex-col gap-1 mt-4">
                  <div class="h-4 bg-gray-700 rounded w-3/4"></div>
                  <div class="h-5 bg-gray-700 rounded w-1/2"></div>
                  <div class="h-4 bg-gray-700 rounded w-full"></div>
                  <div class="h-4 bg-gray-700 rounded w-2/3"></div>
                </div>
              </div>
              <div class="h-8 bg-gray-700 rounded w-20"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Dynamic Carousel -->
      <div *ngIf="!carsLoading() && cars().length > 0" class="carousel-wrapper relative" data-animation="fade-up"
        data-delay="200" (mouseenter)="pauseAutoScroll()" (mouseleave)="resumeAutoScroll()"
        (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)">
        <div class="carousel-viewport overflow-hidden">
          <div #carouselTrack class="carousel-track transition-transform"
            [style.transform]="'translateX(-' + (currentIndex() * (100 / visibleCount())) + '%)'">
            <ng-container *ngFor="let car of cars()">
              <div
                class="car-card flex flex-col items-stretch justify-between gap-4 rounded-lg border border-gray-700 p-4 relative overflow-hidden hover:border-blue-500 transform hover:scale-[1.02] transition-all duration-300 hover:shadow-xl hover:shadow-blue-500/10">
                <!-- Slanted Tag -->
                <div class="absolute top-0 right-0 w-32 h-32 z-20">
                  <div *ngIf="car.tokensAvailable === 0 && car.ticketsAvailable > 0; else waitlist" class="slanted-tag book-now">Book Now</div>
                  <ng-template #waitlist>
                    <div *ngIf="car.ticketsAvailable > 0" class="slanted-tag join-waitlist">Join Waitlist</div>
                  </ng-template>
                </div>

                <div class="flex flex-col gap-2">
                  <div
                    class="w-full aspect-video rounded-lg flex-1 overflow-hidden bg-gray-800 flex items-center justify-center">
                    <img *ngIf="car.image" [src]="car.image" [alt]="car.name || car.brand || 'car'"
                      class="w-full h-full object-cover" />
                    <img *ngIf="!car.image" src="/car.png" [alt]="car.name || car.brand || 'car'"
                      class="w-full h-full object-cover" />
                  </div>
                  <div class="flex flex-col gap-2 mt-4">
                    <div class="flex items-start justify-between gap-2 w-full">
                      <div class="flex flex-col flex-1">
                        <div class="text-white font-bold text-base sm:text-lg lg:text-xl">{{ car.name || 'Unknown Model' }}</div>
                        <div class="text-gray-400 text-xs sm:text-sm lg:text-base">{{ car.brand || 'Unknown Brand' }}</div>
                        <div class="flex items-center gap-2 mt-1">
                          <div *ngIf="car.location" class="flex items-center gap-1 text-gray-500 text-xs">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" fill="currentColor"
                              viewBox="0 0 256 256" class="text-gray-500">
                              <path
                                d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88,88,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,220,136.25c27.45-31.57,42-64.85,42-96.25A88,88,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z">
                              </path>
                            </svg>
                            <span>{{ car.location }}</span>
                          </div>
                        </div>
                        <!-- Additional car details -->
                        <div class="flex flex-wrap items-center gap-2 sm:gap-3 mt-2 text-xs text-gray-500">
                          <div *ngIf="car.seats" class="flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" fill="currentColor"
                              viewBox="0 0 256 256">
                              <path
                                d="M120,80a8,8,0,0,1,8-8h0a8,8,0,0,1,8,8v8a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8Zm-32,0a8,8,0,0,1,8-8h0a8,8,0,0,1,8,8v8a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8Zm64,0a8,8,0,0,1,8-8h0a8,8,0,0,1,8,8v8a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8ZM232,80v96a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V80a16,16,0,0,1,16-16H224A16,16,0,0,1,240,80ZM32,80v96H224V80H32Z">
                              </path>
                            </svg>
                            <span>{{ car.seats }} seats</span>
                          </div>
                          <div *ngIf="car.fuel" class="flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" fill="currentColor"
                              viewBox="0 0 256 256">
                              <path
                                d="M240,80v96a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V80a16,16,0,0,1,16-16H224A16,16,0,0,1,240,80ZM32,80v96H224V80H32Z">
                              </path>
                            </svg>
                            <span>{{ car.fuel }}</span>
                          </div>
                        </div>
                      </div>
                      <div class="flex flex-col items-end gap-1">
                        <div *ngIf="car.tokensAvailable === 0 && car.ticketsAvailable === 0"
                          class="text-xs bg-red-600 text-white rounded-full px-2 py-0.5">Sold Out</div>
                        <div *ngIf="car.fractionPrice" class="flex items-center gap-2">
                          <div class="text-blue-400 font-semibold text-base">‚Çπ{{ car.fractionPrice }}<span class="text-gray-400 text-sm font-normal">/per share</span></div>
                          <button 
                            (click)="showPricingInfo($event)"
                            class="w-4 h-4 rounded-full bg-gray-600 hover:bg-gray-500 flex items-center justify-center transition-colors group relative"
                            title="Pricing Information">
                            <svg class="w-2.5 h-2.5 text-white" fill="currentColor" viewBox="0 0 20 20">
                              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                            </svg>
                            <!-- Tooltip -->
                            <div class="absolute bottom-full right-0 mb-2 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                              <div class="text-xs text-gray-300 leading-relaxed">
                                The above prices are subject to change, the final prices will be based on dealers final proforma invoice at the time of purchase
                              </div>
                              <!-- Arrow -->
                              <div class="absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"></div>
                            </div>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <button (click)="navigateToCarDetails(car.id)"
                  class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-8 px-4 flex-row-reverse btn-outline-white pr-2 gap-1 text-sm font-medium leading-normal w-fit">
                  <div class="text-white" data-icon="ArrowRight" data-size="18px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor"
                      viewBox="0 0 256 256">
                      <path
                        d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z">
                      </path>
                    </svg>
                  </div>
                  <span class="truncate">Details</span>
                </button>
              </div>
            </ng-container>
          </div>
        </div>
      </div>

      <!-- No Cars State -->
      <div *ngIf="!carsLoading() && cars().length === 0" class="text-center py-8 md:py-12" data-animation="fade-up"
        data-delay="200">
        <div class="text-[#90adcb] text-lg mb-4">No cars available at the moment</div>
        <p class="text-gray-400">Please check back later for new car listings.</p>
      </div>
    </div>
    <div class="flex flex-col gap-6 px-4 py-6 @container mb-8 md:gap-10 md:py-10 md:mb-12">
      <div class="flex flex-col gap-4">
        <h1 data-animation="fade-up"
          class="text-white tracking-light text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]">
          Simple Steps to Get You on the Road
        </h1>
        <p data-animation="fade-up" data-delay="100"
          class="text-white text-sm sm:text-base lg:text-lg font-normal leading-normal max-w-[720px]">Your journey to luxury car co-ownership
          starts here.</p>
      </div>
      <div class="timeline-wrapper">
        <div #timelineRef class="timeline px-0" 
             [class.timeline-collapsed]="!isSimpleStepsExpanded()"
             [class.timeline-expanded]="isSimpleStepsExpanded()">
          <!-- Loading State -->
          <div *ngIf="simpleStepsLoading()" class="space-y-6">
            <div class="timeline-item animate-pulse">
              <div class="timeline-icon bg-gray-600 rounded-full"></div>
              <div class="timeline-content">
                <div class="h-4 bg-gray-600 rounded w-3/4 mb-2"></div>
                <div class="h-3 bg-gray-700 rounded w-full mb-1"></div>
                <div class="h-3 bg-gray-700 rounded w-5/6"></div>
              </div>
            </div>
            <div class="timeline-item animate-pulse">
              <div class="timeline-icon bg-gray-600 rounded-full"></div>
              <div class="timeline-content">
                <div class="h-4 bg-gray-600 rounded w-2/3 mb-2"></div>
                <div class="h-3 bg-gray-700 rounded w-full mb-1"></div>
                <div class="h-3 bg-gray-700 rounded w-4/5"></div>
              </div>
            </div>
          </div>

          <!-- Dynamic Simple Steps -->
          <ng-container *ngIf="!simpleStepsLoading()">
            <!-- First 5 steps (always visible) -->
            <div *ngFor="let step of getVisibleSteps(); let i = index" [attr.data-animation]="'fade-right'"
              [attr.data-delay]="(i + 1) * 100" class="timeline-item">
              <div class="timeline-icon" aria-hidden>
                <div
                  class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm">
                  {{ i + 1 }}
                </div>
              </div>
              <div class="timeline-content">
                <h3 class="text-white text-base font-bold">{{ step.stepTitle }}</h3>
                <p class="text-[#90adcb] text-sm mt-1">{{ step.stepName }}</p>
              </div>
            </div>
            
            <!-- Expandable steps (6th and beyond) -->
            <div *ngIf="simpleSteps().length > 5" class="space-y-6">
              <div *ngFor="let step of getExpandableSteps(); let i = index" 
                   [attr.data-animation]="'fade-right'"
                   [attr.data-delay]="(i + 6) * 100" 
                   class="timeline-item transition-all duration-300"
                   [class.opacity-0]="!isSimpleStepsExpanded()"
                   [class.max-h-0]="!isSimpleStepsExpanded()"
                   [class.overflow-hidden]="!isSimpleStepsExpanded()"
                   [class.opacity-100]="isSimpleStepsExpanded()"
                   [class.max-h-96]="isSimpleStepsExpanded()">
                <div class="timeline-icon" aria-hidden>
                  <div
                    class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm">
                    {{ i + 6 }}
                  </div>
                </div>
                <div class="timeline-content">
                  <h3 class="text-white text-base font-bold">{{ step.stepTitle }}</h3>
                  <p class="text-[#90adcb] text-sm mt-1">{{ step.stepName }}</p>
                </div>
              </div>
            </div>
            
            
          </ng-container>
        </div>
        <div class="timeline-empty">
          <div class="timeline-empty-inner">
            <!-- Mobile: Toggle Button above videos -->
            <div *ngIf="simpleSteps().length > 5" class="block md:hidden -mt-8" data-animation="fade-up" data-delay="600">
              <button 
                (click)="toggleSimpleSteps()"
                class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 text-sm font-medium rounded-lg transition-all duration-300 hover:scale-105 border-none">
                <span>{{ isSimpleStepsExpanded() ? 'Show Less' : 'Show More' }}</span>
                <svg class="w-4 h-4 transition-transform duration-300" [class.rotate-180]="isSimpleStepsExpanded()" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
            </div>

            <!-- Mobile: Vertical video layout -->
            <div class="block md:hidden" data-animation="fade-left" data-delay="200">
              <div class="space-y-4">
                <!-- Loading State for Videos -->
                <div *ngIf="simpleStepsVideosLoading()" class="space-y-4">
                  <div class="w-full h-48 animate-pulse bg-gray-700 rounded-lg"></div>
                  <div class="w-full h-48 animate-pulse bg-gray-700 rounded-lg"></div>
                </div>

                <!-- Dynamic Videos -->
                <div *ngIf="!simpleStepsVideosLoading() && simpleStepsVideos().length > 0" class="space-y-4">
                  <!-- Video 1 -->
                  <div class="w-full h-48 video-container cursor-pointer relative group" 
                       *ngIf="simpleStepsVideos()[0]?.video1"
                       (click)="redirectToYouTube(simpleStepsVideos()[0].video1)">
                    <img [src]="getYouTubeThumbnail(simpleStepsVideos()[0].video1)" 
                         [alt]="'Simple Steps Video 1'"
                         class="w-full h-full rounded-lg object-cover"
                         loading="lazy"
                         (error)="onThumbnailError($event, simpleStepsVideos()[0].video1)">
                    <!-- Play button overlay -->
                    <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg group-hover:bg-opacity-40 transition-all duration-200">
                      <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200">
                        <svg class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M8 5v14l11-7z"/>
                        </svg>
                      </div>
                    </div>
                    <!-- YouTube label -->
                    <div class="absolute bottom-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded">
                      YouTube
                    </div>
                  </div>

                  <!-- Video 2 -->
                  <div class="w-full h-48 video-container cursor-pointer relative group" 
                       *ngIf="simpleStepsVideos()[0]?.video2"
                       (click)="redirectToYouTube(simpleStepsVideos()[0].video2)">
                    <img [src]="getYouTubeThumbnail(simpleStepsVideos()[0].video2)" 
                         [alt]="'Simple Steps Video 2'"
                         class="w-full h-full rounded-lg object-cover"
                         loading="lazy"
                         (error)="onThumbnailError($event, simpleStepsVideos()[0].video2)">
                    <!-- Play button overlay -->
                    <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg group-hover:bg-opacity-40 transition-all duration-200">
                      <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200">
                        <svg class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M8 5v14l11-7z"/>
                        </svg>
                      </div>
                    </div>
                    <!-- YouTube label -->
                    <div class="absolute bottom-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded">
                      YouTube
                    </div>
                  </div>

                  <!-- Fallback if no videos -->
                  <div
                    *ngIf="!simpleStepsVideosLoading() && (!simpleStepsVideos() || simpleStepsVideos().length === 0 || (!simpleStepsVideos()[0]?.video1 && !simpleStepsVideos()[0]?.video2))"
                    class="w-full h-48 flex items-center justify-center bg-gray-800 rounded-lg">
                    <div class="text-center p-4">
                      <div class="text-2xl mb-2">üé•</div>
                      <h3 class="text-white text-sm font-semibold mb-1">Videos Coming Soon</h3>
                      <p class="text-gray-400 text-xs">We're working on adding helpful videos.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Desktop: Original vertical layout -->
            <div class="hidden md:block image-card rounded-xl overflow-hidden" 
                 [class.video-container-collapsed]="!isSimpleStepsExpanded()"
                 [class.video-container-expanded]="isSimpleStepsExpanded()"
                 data-animation="fade-left" data-delay="200">
              <div class="w-full h-full">
                <!-- Loading State for Videos -->
                <div *ngIf="simpleStepsVideosLoading()"
                  class="flex flex-col gap-4 w-full h-full justify-center items-center">
                  <div class="w-full flex-1 animate-pulse bg-gray-700 rounded-lg"></div>
                  <div class="w-full flex-1 animate-pulse bg-gray-700 rounded-lg"></div>
                </div>

                <!-- Dynamic Videos -->
                <div *ngIf="!simpleStepsVideosLoading() && simpleStepsVideos().length > 0"
                  class="flex flex-col gap-4 w-full h-full justify-center items-center">
                  <!-- Video 1 -->
                  <div class="w-full flex-1 video-container" *ngIf="simpleStepsVideos()[0]?.video1">
                    <iframe width="100%" height="100%" [src]="sanitizeUrl(simpleStepsVideos()[0].video1)"
                      frameborder="0"
                      allow="encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                      class="w-full h-full rounded-lg video-iframe"
                      title="Simple Steps Video 1"></iframe>
                  </div>

                  <!-- Video 2 -->
                  <div class="w-full flex-1 video-container" *ngIf="simpleStepsVideos()[0]?.video2">
                    <iframe width="100%" height="100%" [src]="sanitizeUrl(simpleStepsVideos()[0].video2)"
                      frameborder="0"
                      allow="encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                      class="w-full h-full rounded-lg video-iframe"
                      title="Simple Steps Video 2"></iframe>
                  </div>

                  <!-- Fallback if no videos -->
                  <div
                    *ngIf="!simpleStepsVideosLoading() && (!simpleStepsVideos() || simpleStepsVideos().length === 0 || (!simpleStepsVideos()[0]?.video1 && !simpleStepsVideos()[0]?.video2))"
                    class="w-full h-full flex items-center justify-center bg-gray-800 rounded-lg">
                    <div class="text-center p-6">
                      <div class="text-4xl mb-4">üé•</div>
                      <h3 class="text-white text-xl font-semibold mb-2">Videos Coming Soon</h3>
                      <p class="text-gray-400">We're working on adding helpful videos to guide you through our platform.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Toggle Button (Desktop only - placed at bottom of section) -->
      <div *ngIf="simpleSteps().length > 5" class="hidden md:block -mt-8" data-animation="fade-up" data-delay="600">
        <button 
          (click)="toggleSimpleSteps()"
          class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 text-sm font-medium rounded-lg transition-all duration-300 hover:scale-105 border-none">
          <span>{{ isSimpleStepsExpanded() ? 'Show Less' : 'Show More' }}</span>
          <svg class="w-4 h-4 transition-transform duration-300" [class.rotate-180]="isSimpleStepsExpanded()" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </div>
    </div>
    <h2 data-animation="fade-right"
      class="text-white tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-full px-4 pb-2 pt-4 md:pb-3 md:pt-5 text-left">
      Why Choose Fraction Car?</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 p-4 mb-8 md:gap-6 md:mb-12">
      <div data-animation="fade-up" data-delay="100"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">üöò</div>
        <h3 class="text-white text-xl font-bold">Fractional Car Ownership</h3>
        <p class="text-gray-400">Own part of a luxury car without the full financial burden. Smartest way to buy a
          premium car where you are the co-owner of a white board registered car.</p>
      </div>
      <div data-animation="fade-up" data-delay="200"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">üõ†</div>
        <h3 class="text-white text-xl font-bold">Maintenance-Free Driving</h3>
        <p class="text-gray-400">We cover insurance, service, and regular upkeep as part of our AMC services.</p>
      </div>
      <div data-animation="fade-up" data-delay="300"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">üöö</div>
        <h3 class="text-white text-xl font-bold">Pick-up and Drop</h3>
        <p class="text-gray-400">You will get free door step delivery of the car in cleaned condition with full tank
          fuel.</p>
      </div>
      <!--<div data-animation="fade-up" data-delay="400"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">ü§ù</div>
        <h3 class="text-white text-xl font-bold">Dedicated Concierge Support</h3>
        <p class="text-gray-400">Personal assistance for bookings, pickups, and on-road help.</p>
      </div>-->
      <div data-animation="fade-up" data-delay="500"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">üí∞</div>
        <h3 class="text-white text-xl font-bold">Affordable AMCs</h3>
        <p class="text-gray-400"> We offer competitive and pocket-friendly AMCs. Also We will pass on car discounts and
          corporate offers to make your ownership even more cost-effective.</p>
      </div>

      <div data-animation="fade-up" data-delay="600"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3 text-3xl">
          <span>‚ú®</span>
        </div>
        <h3 class="text-white text-xl font-bold">Premium Services & Support</h3>
        <p class="text-gray-400">Complimentary detailing ‚Ä¢ Direct showroom demo cars ‚Ä¢ Customer-centric approach</p>
      </div>
      <div data-animation="fade-up" data-delay="700"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="text-3xl">üí∏</div>
        <h3 class="text-white text-xl font-bold">Car Sale Proceeds</h3>
        <p class="text-gray-400">Car is sold end of the tenure (5 years) and the sale proceeds are distributed to the
          co-owners.</p>
      </div>
    </div>

    <h2 data-animation="fade-right"
      class="text-white tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-full px-4 pb-3 pt-5 text-left">
      Trust & Security Matters</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-4 mb-6 md:mb-12">
      <div data-animation="fade-up" data-delay="100"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">All users are KYC-verified</h3>
        </div>
        <p class="text-gray-400">We ensure a secure community of verified members.</p>
      </div>
      <div data-animation="fade-up" data-delay="200"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">Cars are fully insured and registered</h3>
        </div>
        <p class="text-gray-400">Complete coverage for your peace of mind.</p>
      </div>
      <div data-animation="fade-up" data-delay="300"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">Payments secured via bank-grade encryption</h3>
        </div>
        <p class="text-gray-400">Your transactions are always protected.</p>
      </div>
      <div data-animation="fade-up" data-delay="400"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">24/7 assistance in case of emergencies</h3>
        </div>
        <p class="text-gray-400">Round-the-clock support when you need it.</p>
      </div>
      <div data-animation="fade-up" data-delay="500"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">ISO Certified Company</h3>
        </div>
        <p class="text-gray-400">We are a ISO certified company - ISO / IEC 27001:2022</p>
      </div>
      <div data-animation="fade-up" data-delay="600"
        class="flex flex-col gap-4 p-6 rounded-xl border border-[#314d68] bg-[#101a23] hover:border-blue-500 transition-all duration-300">
        <div class="flex items-center gap-3">
          <span class="text-2xl">‚úÖ</span>
          <h3 class="text-white text-xl font-bold">High Tech Platform</h3>
        </div>
        <p class="text-gray-400">High Tech enabled platform which makes the user experience best and hassle-free.</p>
      </div>
    </div>

    <!-- Co-owning vs Renting Comparison -->
    <div class="px-4 pt-8 pb-6 md:py-12">
      <div class="text-center mb-8 md:mb-12">
        <h2 data-animation="fade-up"
          class="text-white text-4xl font-bold leading-tight mb-4">
          Co-owning vs Renting
        </h2>
        <p data-animation="fade-up" data-delay="100" class="text-gray-400 text-lg max-w-2xl mx-auto">
          Discover why fractional car ownership is the smarter choice compared to traditional car rentals
        </p>
      </div>

      <!-- Comparison Cards -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
        
        <!-- Fraction Car Card -->
        <div data-animation="fade-up" data-delay="200" 
             class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-900/20 to-blue-800/10 border border-blue-500/30 hover:border-blue-400/50 transition-all duration-300 group">
          <!-- Header -->
          <div class="relative p-8 pb-6">
            <div class="flex items-center gap-4 mb-6">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <div>
                <h3 class="text-white text-2xl font-bold">Fraction Car</h3>
                <p class="text-blue-300 text-sm">Co-Ownership Model</p>
              </div>
            </div>
            
            <!-- Features List -->
            <div class="space-y-4">
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">5x cheaper</span>
                  <span class="text-gray-300"> than traditional rentals</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Brand-new showroom cars</span>
                  <span class="text-gray-300"> in pristine condition</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">8.33% ownership</span>
                  <span class="text-gray-300"> via LLP structure</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">30 days/year</span>
                  <span class="text-gray-300"> usage rights per share</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">No branding</span>
                  <span class="text-gray-300"> or rental logos</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Better care</span>
                  <span class="text-gray-300"> from co-owners</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Bottom accent -->
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-blue-600"></div>
        </div>

        <!-- Rental Cars Card -->
        <div data-animation="fade-up" data-delay="300" 
             class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900/20 to-gray-800/10 border border-gray-600/30 hover:border-gray-500/50 transition-all duration-300 group">
          <!-- Header -->
          <div class="relative p-8 pb-6">
            <div class="flex items-center gap-4 mb-6">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-gray-500 to-gray-600 flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </div>
              <div>
                <h3 class="text-white text-2xl font-bold">Rental Cars</h3>
                <p class="text-gray-400 text-sm">Traditional Rental Model</p>
              </div>
            </div>
            
            <!-- Features List -->
            <div class="space-y-4">
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Higher costs</span>
                  <span class="text-gray-300"> for daily/weekly rentals</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Older models</span>
                  <span class="text-gray-300"> with wear and tear</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Zero ownership</span>
                  <span class="text-gray-300"> rights or benefits</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Limited usage</span>
                  <span class="text-gray-300"> to rental period only</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Rental branding</span>
                  <span class="text-gray-300"> and logos visible</span>
                </div>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div>
                  <span class="text-white font-semibold">Worn condition</span>
                  <span class="text-gray-300"> from multiple users</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Bottom accent -->
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-gray-500 to-gray-600"></div>
        </div>
      </div>

      <!-- Call to Action (removed empty block to reduce spacing) -->
    </div>

    <!-- FAQ Section Header -->
    <div class="px-4 py-8 text-center" data-faq-section>
      <h2 data-animation="fade-up" class="text-white text-4xl font-bold leading-tight mb-4">Frequently Asked Questions
      </h2>
      <p data-animation="fade-up" data-delay="100" class="text-gray-400 text-lg">Everything you need to know about
        fractional car ownership</p>
    </div>

    <!-- FAQ Categories -->
    <div class="flex flex-wrap justify-center gap-4 px-4 mb-8">
      <button *ngFor="let category of faqCategories(); let i = index" 
              (click)="showFAQSection(category.name)"
              [class]="activeFaqCategory() === category.name ? 'faq-category-btn active' : 'faq-category-btn'"
              data-animation="fade-up" [attr.data-delay]="(i + 1) * 100">
        <div class="faq-category-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
            fill="currentColor" viewBox="0 0 24 24">
            <path d="M5,11L6.5,6.5H17.5L19,11M17.5,16A1.5,1.5 0 0,1 16,14.5A1.5,1.5 0 0,1 17.5,13A1.5,1.5 0 0,1 19,14.5A1.5,1.5 0 0,1 17.5,16M6.5,16A1.5,1.5 0 0,1 5,14.5A1.5,1.5 0 0,1 6.5,13A1.5,1.5 0 0,1 8,14.5A1.5,1.5 0 0,1 6.5,16M18.92,6C18.72,5.42 18.16,5 17.5,5H6.5C5.84,5 5.28,5.42 5.08,6L3,12V20A1,1 0 0,0 4,21H5A1,1 0 0,0 6,20V19H18V20A1,1 0 0,0 19,21H20A1,1 0 0,0 21,20V12L18.92,6Z" />
          </svg>
        </div>
        {{ category.name }}
      </button>
    </div>

    <!-- Dynamic FAQ Section -->
    <div *ngIf="!loading()" class="faq-container">
      <div *ngIf="getFAQsForCategory(activeFaqCategory()).length === 0" class="text-center py-8 md:py-12">
        <div class="text-gray-400 text-lg">No FAQs available for this category.</div>
      </div>
      <div class="space-y-4 mb-4">
        <details *ngFor="let faq of getFAQsForCategory(activeFaqCategory()); let i = index" data-animation="fade-up"
          [attr.data-delay]="(i + 1) * 100" class="faq-item group" [open]="i === 0">
          <summary class="faq-summary">
            <div class="faq-content">
              <div class="faq-icon">
                <!-- Question Mark Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'question'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" />
                </svg>
                <!-- Lightbulb Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'lightbulb'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z" />
                </svg>
                <!-- Users Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'users'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L14 10.5 12.01 8.99A2.5 2.5 0 0 0 10 8H8.46c-.8 0-1.54.37-2.01.99L4 10.5V22h2v-6h2.5l2.5 2.5L11.5 16H14v6h2zM6.5 8.5c-.83 0-1.5-.67-1.5-1.5S5 6.17 6.5 6.5s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z" />
                </svg>
                <!-- Shield Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'shield'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H16V16H8V11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.4,8.7 10.4,10V11H13.6V10C13.6,8.7 12.8,8.2 12,8.2Z" />
                </svg>
                <!-- Clock Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'clock'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5V18H13V16.5H11M12,6A3,3 0 0,0 9,9V11H7V9A5,5 0 0,1 12,4A5,5 0 0,1 17,9V11H15V9A3,3 0 0,0 12,6Z" />
                </svg>
                <!-- Money Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'money'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5V18H13V16.5H11M12,6A3,3 0 0,0 9,9V11H7V9A5,5 0 0,1 12,4A5,5 0 0,1 17,9V11H15V9A3,3 0 0,0 12,6Z" />
                </svg>
                <!-- Calendar Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'calendar'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M19,3H18V1H16V3H8V1H6V3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19M19,6H5V5H19V6M12,10H14V12H12V10M16,10H18V12H16V10M8,14H10V16H8V14M12,14H14V16H12V14M16,14H18V16H16V14M8,10H10V12H8V10Z" />
                </svg>
                <!-- Check Icon -->
                <svg *ngIf="getFaqIcon(faq.question) === 'check'" xmlns="http://www.w3.org/2000/svg" width="20"
                  height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z" />
                </svg>
              </div>
              <div class="faq-text">
                <h4 class="faq-question">{{ faq.question }}</h4>
                <p class="faq-subtitle">{{ getFaqSubtitle(faq.question) }}</p>
              </div>
            </div>
            <div class="faq-chevron">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35A8,8,0,0,1,213.66,101.66Z">
                </path>
              </svg>
            </div>
          </summary>
          <div class="faq-answer">
            <p>{{ faq.answer }}</p>
          </div>
        </details>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading()" class="flex flex-col p-4 gap-3 mb-20">
      <div class="text-center py-8">
        <div class="text-[#90adcb]">Loading FAQs...</div>
      </div>
    </div>

    <!-- Brands Modal -->
    <div *ngIf="showBrandsModal()" 
         class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 brands-modal brands-modal-backdrop"
         (click)="closeBrandsModal()">
      <div class="bg-gray-900 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden brands-modal-content"
           (click)="$event.stopPropagation()">
        <!-- Modal Header -->
        <div class="flex justify-between items-center p-6 border-b border-gray-700">
          <h2 class="text-2xl font-bold text-white">All Brands</h2>
          <button (click)="closeBrandsModal()" 
                  class="text-gray-400 hover:text-white transition-colors duration-200">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        
        <!-- Modal Content -->
        <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
          <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 brands-modal-grid">
            <div *ngFor="let brand of brands(); let i = index"
                 class="flex flex-col items-center bg-gray-800/50 rounded-xl p-6 hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 cursor-pointer brands-modal-brand"
                 (click)="navigateToCarsWithBrandFromModal(brand.brandName)">
              <div class="bg-white/10 rounded-full p-4 mb-4">
                <img [src]="brand.brandLogo" [alt]="brand.brandName" class="h-16 w-16 object-contain" />
              </div>
              <span class="text-white text-base font-semibold text-center">{{ brand.brandName }}</span>
              <span class="text-gray-400 text-xs mt-2">{{ brand.subText }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // This script will be moved to an external file or handled by Angular
    </script>
  </div>
</div>