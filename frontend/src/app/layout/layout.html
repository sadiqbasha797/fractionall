<div class="min-h-screen flex bg-gray-700">
  <!-- Sidebar -->
  <app-sidebar 
    [isMobileMenuOpen]="isSidebarOpen"
    (sidebarClose)="toggleSidebar()">
  </app-sidebar>

  <!-- Overlay -->
  <div 
    *ngIf="isSidebarOpen"
    (click)="toggleSidebar()"
    class="fixed inset-0 bg-black bg-opacity-50 z-[65] md:hidden">
  </div>

  <!-- Main content -->
  <!-- reserve space for the fixed sidebar on medium+ screens (md:ml-64) -->
  <div class="flex-1 flex flex-col bg-gray-700 md:ml-64 min-w-0">
    <!-- Navbar - Fixed at top -->
    <div class="z-50 fixed top-0 right-0 left-0 md:left-64">
      <app-navbar (menuClick)="toggleSidebar()"></app-navbar>
    </div>
    
    <!-- Mobile menu button - positioned above navbar on mobile -->
    <button 
      *ngIf="!isSidebarOpen"
      class="md:hidden fixed top-4 left-4 z-[60] p-2 rounded-lg bg-gray-800 text-white hover:bg-gray-700 transition-colors shadow-lg"
      (click)="toggleSidebar()"
      type="button">
      <svg 
        class="w-6 h-6" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
    
    <!-- Page Content - Scrollable area below navbar with proper padding -->
    <main class="flex-1 bg-gray-700 overflow-y-auto pt-16" style="height: 100vh;">
      <div *ngIf="isLoading" class="flex items-center justify-center h-full">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
      </div>
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>
